# å¦‚ä½•æ·»åŠ æ–°çš„ AU Lucky Lotteries å½©ç§

## æ¦‚è¿°

ä»ç°åœ¨å¼€å§‹ï¼Œæ‚¨å¯ä»¥ç›´æ¥åœ¨å‰ç«¯ã€Œæ·»åŠ æ–°å½©ç§ã€åŠŸèƒ½ä¸­æ·»åŠ  AU Lucky Lotteries çš„æ–°å½©ç§ï¼Œ**æ— éœ€ä¿®æ”¹ä»£ç **ï¼

ç³»ç»Ÿå·²ç»æ”¯æŒåŠ¨æ€é…ç½®ï¼Œåªéœ€è¦æ­£ç¡®å¡«å†™é…ç½®ä¿¡æ¯å³å¯ã€‚

---

## å‰ææ¡ä»¶

AU Lucky Lotteries å®˜ç½‘ï¼ˆhttps://auluckylotteries.com/ï¼‰æ–°å¢äº†å½©ç§ï¼Œä¾‹å¦‚ï¼š
- Lucky 3 Ballï¼ˆ3ä¸ªå·ç ï¼‰
- Lucky 15 Ballï¼ˆ15ä¸ªå·ç ï¼‰
- æˆ–å…¶ä»–æ–°å½©ç§

---

## æ·»åŠ æ­¥éª¤

### 1. è®¿é—®å‰ç«¯ç®¡ç†ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:4000

ç‚¹å‡»ã€Œå½©ç§é…ç½®ã€é€‰é¡¹å¡

### 2. ç‚¹å‡»ã€Œæ·»åŠ æ–°å½©ç§ã€æŒ‰é’®

### 3. å¡«å†™å½©ç§é…ç½®ä¿¡æ¯

#### å¿…å¡«å­—æ®µï¼š

| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **å½©ç§ä»£ç  (lotCode)** | å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå»ºè®®æ ¼å¼ï¼š`300XX` | `30005` |
| **å½©ç§åç§°** | ä¸­æ–‡æ˜¾ç¤ºåç§° | `æ¾³æ´²å¹¸è¿3` æˆ– `Lucky 3 Ball` |
| **å¼€å¥–é—´éš”ï¼ˆç§’ï¼‰** | é€šå¸¸ä¸º 300 ç§’ï¼ˆ5åˆ†é’Ÿï¼‰ | `300` |
| **ä¼˜å…ˆçº§** | å»ºè®®é€‰æ‹© `medium` | `medium` |
| **æ•°æ®æº** | **å¿…é¡»é€‰æ‹©** `AU Lucky Lotteries` | `auluckylotteries` |
| **Scraper Key** | å½©ç§ç®€ç§°æ ‡è¯†ç¬¦ | `lucky3` |
| **APIç«¯ç‚¹** | å®˜ç½‘å½©ç§é¡µé¢è·¯å¾„ | `/results/lucky-ball-3/` |
| **å†å²ç«¯ç‚¹** | é€šå¸¸ä¸APIç«¯ç‚¹ç›¸åŒ | `/results/lucky-ball-3/` |
| **æè¿°** | å½©ç§è¯´æ˜ | `AU Lucky Lotteries - 3ä¸ªå·ç (0-9)` |

#### å…³é”®å­—æ®µè¯´æ˜ï¼š

**Scraper Keyï¼ˆæœ€é‡è¦ï¼ï¼‰**
- æ ¼å¼ï¼š`luckyX`ï¼ˆX ä¸ºå·ç ä¸ªæ•°ï¼‰
- å¿…é¡»å”¯ä¸€ï¼Œä¸èƒ½ä¸ç°æœ‰å½©ç§é‡å¤
- ç¤ºä¾‹ï¼š
  - Lucky 3 Ball â†’ `lucky3`
  - Lucky 15 Ball â†’ `lucky15`

**APIç«¯ç‚¹ï¼ˆç¬¬äºŒé‡è¦ï¼ï¼‰**
- ä»å®˜ç½‘URLä¸­è·å–
- ä¾‹å¦‚å®˜ç½‘åœ°å€ï¼š`https://auluckylotteries.com/results/lucky-ball-3/`
- åˆ™APIç«¯ç‚¹ä¸ºï¼š`/results/lucky-ball-3/`
- **æ³¨æ„ï¼š** å¼€å¤´å¿…é¡»æœ‰ `/`ï¼Œç»“å°¾å»ºè®®ä¹Ÿæœ‰ `/`

**å½©ç§ä»£ç ï¼ˆlotCodeï¼‰**
- å»ºè®®ä½¿ç”¨ `300XX` æ ¼å¼ï¼ˆAU Lucky Lotteries ä»£ç æ®µï¼‰
- å·²ä½¿ç”¨çš„ä»£ç ï¼š
  - `30001` - æ¾³æ´²å¹¸è¿5
  - `30002` - Lucky 8 Ball
  - `30003` - Lucky 10 Ball
  - `30004` - Lucky 20 Ball
- æ–°å½©ç§å¯ä»¥ä½¿ç”¨ `30005`ã€`30006`...

---

## é…ç½®ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šæ·»åŠ  Lucky 3 Ball

å‡è®¾å®˜ç½‘æ–°å¢äº† Lucky 3 Ball å½©ç§ï¼ŒURL ä¸ºï¼š
`https://auluckylotteries.com/results/lucky-ball-3/`

é…ç½®å¦‚ä¸‹ï¼š

```json
{
  "lotCode": "30005",
  "name": "æ¾³æ´²å¹¸è¿3",
  "interval": 300,
  "priority": "medium",
  "endpoint": "auluckylotteries",
  "source": "auluckylotteries",
  "enabled": true,
  "description": "AU Lucky Lotteries - 3ä¸ªå·ç (0-9)",
  "scraperKey": "lucky3",
  "apiEndpoint": "/results/lucky-ball-3/",
  "historyEndpoint": "/results/lucky-ball-3/"
}
```

### ç¤ºä¾‹ 2ï¼šæ·»åŠ  Lucky 15 Ball

å‡è®¾å®˜ç½‘æ–°å¢äº† Lucky 15 Ball å½©ç§ï¼ŒURL ä¸ºï¼š
`https://auluckylotteries.com/results/lucky-ball-15/`

é…ç½®å¦‚ä¸‹ï¼š

```json
{
  "lotCode": "30006",
  "name": "Lucky 15 Ball",
  "interval": 300,
  "priority": "medium",
  "endpoint": "auluckylotteries",
  "source": "auluckylotteries",
  "enabled": true,
  "description": "AU Lucky Lotteries - 15ä¸ªå·ç (1-50)",
  "scraperKey": "lucky15",
  "apiEndpoint": "/results/lucky-ball-15/",
  "historyEndpoint": "/results/lucky-ball-15/"
}
```

---

## éªŒè¯æ­¥éª¤

### 1. ä¿å­˜é…ç½®åï¼Œæ£€æŸ¥æ˜¯å¦å‡ºé”™

ä¿å­˜åï¼Œç³»ç»Ÿåº”è¯¥æ˜¾ç¤ºã€Œâœ… å½©ç§å·²æ·»åŠ ã€

### 2. æ£€æŸ¥å½©ç§åˆ—è¡¨

åœ¨ã€Œå½©ç§é…ç½®ã€é¡µé¢ï¼Œåº”è¯¥èƒ½çœ‹åˆ°æ–°æ·»åŠ çš„å½©ç§

### 3. ç­‰å¾…é¦–æ¬¡æ•°æ®è·å–ï¼ˆçº¦5-10ç§’ï¼‰

æ–°å½©ç§ä¼šè‡ªåŠ¨å¼€å§‹è·å–æ•°æ®

### 4. æŸ¥çœ‹å®æ—¶æ•°æ®

è®¿é—® API æµ‹è¯•ï¼š
```bash
curl http://localhost:4000/api/realtime-data?lotCode=30005
```

åº”è¯¥è¿”å›ç±»ä¼¼ï¼š
```json
{
  "success": true,
  "data": {
    "lotCode": "30005",
    "issue": "12345678",
    "drawCode": "01,02,03",
    "drawTime": "Wednesday, Dec 24,2025 11:29 pm (ACDT)",
    "countdown": 244,
    "source": "auluckylotteries"
  }
}
```

### 5. æ£€æŸ¥æ—¥å¿—

æŸ¥çœ‹ Docker æ—¥å¿—ï¼Œç¡®è®¤æ²¡æœ‰é”™è¯¯ï¼š
```bash
docker logs lottery-crawler-compose --tail 50 | grep "30005\|lucky3"
```

åº”è¯¥çœ‹åˆ°ç±»ä¼¼ï¼š
```
[AULuckyLotteries] ğŸš€ è¯·æ±‚: http://auluckylotteries.com/results/lucky-ball-3/
[AULuckyLotteries] âœ… æˆåŠŸè·å– lucky3 ç¬¬12345678æœŸæ•°æ®
â±ï¸ æ¾³æ´²å¹¸è¿3 å€’è®¡æ—¶244ç§’ â†’ ä¸‹æ¬¡3.0ç§’åè½®è¯¢
```

---

## å¸¸è§é—®é¢˜

### Q1: ä¿å­˜åæç¤º"ç¼ºå°‘scraperKeyæ˜ å°„"

**åŸå› ï¼š** Scraper Key å­—æ®µä¸ºç©º

**è§£å†³ï¼š** ç¡®ä¿å¡«å†™äº† Scraper Keyï¼Œæ ¼å¼ä¸º `luckyX`

---

### Q2: æ•°æ®è·å–å¤±è´¥ï¼Œæ—¥å¿—æ˜¾ç¤º 404 é”™è¯¯

**åŸå› ï¼š** API ç«¯ç‚¹è·¯å¾„ä¸æ­£ç¡®

**è§£å†³æ–¹æ³•ï¼š**
1. è®¿é—®å®˜ç½‘ï¼Œæ‰¾åˆ°æ–°å½©ç§çš„å®é™…URL
2. å¤åˆ¶è·¯å¾„éƒ¨åˆ†ï¼ˆä» `/results/` å¼€å§‹ï¼‰
3. ç¡®ä¿å¼€å¤´æœ‰ `/`

ç¤ºä¾‹ï¼š
- âŒ é”™è¯¯ï¼š`results/lucky-ball-3/`
- âœ… æ­£ç¡®ï¼š`/results/lucky-ball-3/`

---

### Q3: æ•°æ®è·å–æˆåŠŸï¼Œä½†å·ç è§£æä¸æ­£ç¡®

**åŸå› ï¼š** HTML é¡µé¢ç»“æ„å¯èƒ½ä¸ç°æœ‰å½©ç§ä¸åŒ

**è§£å†³æ–¹æ³•ï¼š**
è¿™ç§æƒ…å†µéœ€è¦å¼€å‘è€…ä¿®æ”¹ scraper çš„è§£æé€»è¾‘ã€‚

è¯·è”ç³»ç³»ç»Ÿç®¡ç†å‘˜ï¼Œæä¾›ï¼š
1. æ–°å½©ç§çš„å®˜ç½‘URL
2. å·ç ä¸ªæ•°å’ŒèŒƒå›´
3. é¡µé¢æˆªå›¾

---

### Q4: å€’è®¡æ—¶ä¸æ˜¾ç¤º

**æ£€æŸ¥æ¸…å•ï¼š**
1. âœ… ç¡®è®¤ `scraperKey` å·²å¡«å†™
2. âœ… ç¡®è®¤å½©ç§å·²å¯ç”¨ï¼ˆenabled = trueï¼‰
3. âœ… æ£€æŸ¥ API æ˜¯å¦è¿”å›æ•°æ®ï¼š
   ```bash
   curl http://localhost:4000/api/realtime-data?lotCode=30005
   ```
4. âœ… æ£€æŸ¥æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯ï¼š
   ```bash
   docker logs lottery-crawler-compose --tail 50
   ```

---

## æŠ€æœ¯è¯´æ˜ï¼ˆå¼€å‘è€…å‚è€ƒï¼‰

### æ¶æ„æ”¹è¿›

ç³»ç»Ÿå·²ä»**ç¡¬ç¼–ç  URL æ˜ å°„**æ”¹ä¸º**åŠ¨æ€é…ç½®æ¶æ„**ï¼š

**ä¹‹å‰ï¼š**
```javascript
// ç¡¬ç¼–ç åœ¨ scraper ä¸­
this.lotteryUrls = {
  'lucky5': '/results/lucky-ball-5/',
  'lucky8': '/results/lucky-ball-8/'
}
```

**ç°åœ¨ï¼š**
```javascript
// ä»é…ç½®æ–‡ä»¶è¯»å–
async fetchLatestData(lotCode, apiEndpoint) {
  const targetUrl = `${this.baseUrl}${apiEndpoint}`;
  // ...
}
```

### ä¿®æ”¹çš„æ–‡ä»¶

1. **MultiSourceDataManager.js**
   - ä» `lotteryConfig` è¯»å– `apiEndpoint`
   - ä¼ é€’ç»™ scraper

2. **AULuckyLotteriesScraper.js**
   - ç§»é™¤ç¡¬ç¼–ç çš„ `lotteryUrls`
   - `fetchLatestData()` æ¥å— `apiEndpoint` å‚æ•°

3. **æ— éœ€ä¿®æ”¹å‰ç«¯**
   - å‰ç«¯å·²ç»æ”¯æŒé…ç½® `apiEndpoint` å­—æ®µ

---

## æ€»ç»“

âœ… **å¯ä»¥ç›´æ¥åœ¨å‰ç«¯æ·»åŠ æ–°å½©ç§**
âœ… **æ— éœ€ä¿®æ”¹ä»»ä½•ä»£ç **
âœ… **åªéœ€æ­£ç¡®å¡«å†™é…ç½®ä¿¡æ¯**

å…³é”®æ˜¯ï¼š
1. **æ•°æ®æº** é€‰æ‹© `AU Lucky Lotteries`
2. **Scraper Key** æ ¼å¼ä¸º `luckyX`
3. **APIç«¯ç‚¹** ä»å®˜ç½‘URLè·å–ï¼Œæ ¼å¼ä¸º `/results/lucky-ball-X/`

---

**æœ€åæ›´æ–°ï¼š** 2025-12-24
**æ¶æ„ç‰ˆæœ¬ï¼š** v2.0ï¼ˆåŠ¨æ€é…ç½®æ”¯æŒï¼‰
