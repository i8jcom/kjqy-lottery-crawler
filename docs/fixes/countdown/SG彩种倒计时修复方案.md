# SG彩种倒计时修复方案

## 修复范围

**仅修复SG彩种**（lotCode以200开头）：
- 20001: SG飞艇
- 20002: SG时时彩
- 20003: SG快3
- 20004: SG快乐十分
- 20005: SG快乐8
- 20006: SG 11选5

**其他所有彩种**：保持不变，继续同步后端倒计时

## 修复逻辑

```javascript
const isSGLottery = lotCode.startsWith('200')

if (isSGLottery && data.drawTime) {
  // SG彩种: 本地计算(固定300秒/5分钟间隔)
  倒计时 = (drawTime + 300秒) - 当前浏览器时间
} else {
  // 其他所有彩种: 同步后端
  倒计时 = officialCountdown
}
```

## 控制台日志

重启后查看浏览器控制台：

**SG彩种**（本地计算）：
```
✅ [SG飞艇] SG彩种本地计算: 245秒 (drawTime: 2026-01-13 20:00:00)
✅ [SG时时彩] SG彩种本地计算: 133秒 (drawTime: 2026-01-13 20:02:00)
```

**其他彩种**（同步后端）：
```
✅ [极速赛车] 同步后端倒计时: 33秒
✅ [澳洲幸运8] 同步后端倒计时: 180秒
✅ [福彩双色球] 同步后端倒计时: 45610秒
```

## 重启命令

```bash
bash /tmp/restart-crawler-fixed.sh
```

## 预期效果

- ✅ **SG彩种**: 刷新页面倒计时准确，无22秒跳变
- ✅ **极速系列**: 保持原样，同步后端（官方3秒时显示3秒）
- ✅ **其他彩种**: 全部保持原样，不受影响

---
**更新时间**: 2026-01-13 20:15
**修复范围**: 仅SG彩种（200系列）
